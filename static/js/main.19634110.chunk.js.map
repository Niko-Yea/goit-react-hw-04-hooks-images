{"version":3,"sources":["ImageGallery/styles.module.scss","ImageGalleryItem/styles.module.scss","Modal/styles.module.scss","Searchbar/styles.module.scss","Button/styles.module.scss","styles.module.scss","Searchbar/Searchbar.js","SearcbarForm/SearchbarForm.js","Button/Button.js","apiService.js","ImageGallery/ImageGallery.js","ImageGalleryItem/ImageGalleryItem.js","Modal/Modal.js","App.js","index.js","SearcbarForm/styles.module.scss"],"names":["module","exports","Searchbar","children","className","styles","SearchbarForm","state","inputValue","handlerInputChange","e","currentTarget","name","value","setState","handleSubmit","preventDefault","trim","props","onSubmit","formReset","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","Button","onClick","ApiService","searchQuery","page","a","url","fetch","response","json","result","console","log","newQuery","apiService","ImageGallery","apiResponse","isLoading","onButtonClick","incrementPage","fetchImg","prevProps","prevState","prevQuery","nextQuery","query","resetPage","window","scrollTo","top","document","documentElement","scrollHeight","behavior","hits","isEmpty","length","color","height","width","loader","ImageGalleryItem","item","showModal","getLargeImg","largeImageURL","src","webformatURL","alt","tags","ImageGalleryItemImage","modalRoot","querySelector","Modal","hanleKeyDown","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","largeImg","createPortal","Overlay","App","items","modalImg","formSubmitHandler","apiResponseHandler","toggleModal","map","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.19634110.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"styles_ImageGallery__pKh35\",\"loader\":\"styles_loader__1dMMc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"styles_ImageGalleryItem__zGrf5\",\"ImageGalleryItemImage\":\"styles_ImageGalleryItemImage__Qpr_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"styles_Overlay__mzuFD\",\"Modal\":\"styles_Modal__3erlH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"styles_Searchbar__30C8F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"styles_Button__1akWp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__fFNuF\"};","import styles from './styles.module.scss'\n\nconst Searchbar = ({children}) => {\n  return (\n    <header className={styles.Searchbar}>{ children }</header>\n  );\n}\n\nexport default Searchbar;","import React, { Component } from 'react';\nimport styles from './styles.module.scss'\n\nclass SearchbarForm extends Component {\n  state = {\n    inputValue: ''\n  }\n\n  handlerInputChange = (e) => {\n    const { name, value } = e.currentTarget;\n\n    this.setState({\n      [name]: value\n    })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.inputValue.trim() === '') {\n      return;\n    }\n\n    this.props.onSubmit(this.state);\n    this.formReset();\n  }\n\n  formReset = () => {\n    this.setState({inputValue: ''})\n  }\n\n  render() {\n    const { inputValue } = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          onChange={this.handlerInputChange}\n          value={inputValue}\n          name='inputValue'\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus={true}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n  );\n  }\n}\n\nexport default SearchbarForm;","import styles from './styles.module.scss'\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={styles.Button} onClick={onClick} type='button'>Load More</button>\n  );\n}\n\nexport default Button;","export default class ApiService{\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  async fetchImg() {\n    const key = '21803734-353a7aae41d2d9aadf1e5ce14';\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${key}`;\n\n    try {\n      const response = await fetch(url);\n      const result = await response.json();\n\n      return result;\n    } catch (error) {\n      return console.log(error);\n    }\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get pageNum() {\n    return this.page\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n\n}","import React, { Component } from 'react';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport Button from '../Button/Button';\nimport ApiService from '../apiService';\nimport styles from './styles.module.scss'\n\nconst apiService = new ApiService();\n\nclass ImageGallery extends Component {\n  state = {\n    apiResponse: [],\n    isLoading: false\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.searchQuery;\n    const nextQuery = this.props.searchQuery;\n\n    apiService.query = nextQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({\n        apiResponse: []\n      })\n      apiService.resetPage()\n      this.fetchImg()\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  async fetchImg() {\n    this.setState({ isLoading: true })\n    const response = await apiService.fetchImg();\n\n    this.setState(prevState => {\n      const items = [...prevState.apiResponse, ...response.hits]\n      return {apiResponse: items}\n    })\n    this.props.apiResponse(this.state.apiResponse)\n    this.setState({ isLoading: false })\n  }\n\n  onButtonClick = () => {\n    apiService.incrementPage()\n    this.fetchImg()\n  }\n\n  render() {\n    const { isLoading } = this.state;\n    const isEmpty = this.state.apiResponse.length;\n    return (\n      <>\n        <ul className={styles.ImageGallery}>\n          {this.props.children}\n        </ul>\n\n        {isLoading && (\n          <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={40} width={40} className={styles.loader}/>\n        )}\n\n        {((isEmpty === 0 || isLoading) ? '' : <Button onClick={this.onButtonClick} />)}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;","import styles from './styles.module.scss';\n\nconst ImageGalleryItem = ({ item, showModal, getLargeImg }) => {\n  return (\n    <li className={styles.ImageGalleryItem} onClick={() => {\n      showModal()\n      getLargeImg(item.largeImageURL)\n    }}>\n      <img src={item.webformatURL} alt={item.tags} className={styles.ImageGalleryItemImage} />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport styles from './styles.module.scss'\n\nconst modalRoot = document.querySelector('#modal-root')\n\nclass Modal extends Component{\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.hanleKeyDown)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hanleKeyDown)\n  }\n\n  hanleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose()\n    }\n  }\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose()\n    }\n  }\n\n\n  render() {\n    const largeImg = this.props.item\n    return createPortal(\n      (<div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={largeImg} alt={largeImg} />\n        </div>\n      </div>), modalRoot\n    );\n  }\n}\n\nexport default Modal;","import React, { Component } from 'react';\n\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport SearchbarForm from \"./SearcbarForm/SearchbarForm\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport Modal from './Modal/Modal';\n\nimport styles from './styles.module.scss';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    items: [],\n    showModal: false,\n    modalImg: ''\n  }\n\n  formSubmitHandler = ({inputValue}) => {\n    this.setState({ searchQuery: inputValue })\n  }\n\n  apiResponseHandler = (apiResponse) => {\n    this.setState({ items: apiResponse })\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }))\n  }\n\n  getLargeImg = (item) => {\n    this.setState({\n      modalImg: item\n    })\n  }\n\n  render() {\n    const {searchQuery, showModal, modalImg, items} = this.state\n    return (\n      <div className={styles.App}>\n        <Searchbar>\n          <SearchbarForm onSubmit={this.formSubmitHandler} />\n        </Searchbar>\n\n        <ImageGallery searchQuery={searchQuery} apiResponse={this.apiResponseHandler}>\n          {items.map(item =>\n            <ImageGalleryItem item={item} key={item.id} showModal={this.toggleModal} getLargeImg={this.getLargeImg}/>\n          )}\n        </ImageGallery>\n\n        {(showModal && <Modal item={modalImg} onClose={this.toggleModal} />)}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"styles_SearchForm__2mZ7H\",\"SearchFormButton\":\"styles_SearchFormButton__ZhKmF\",\"SearchFormButtonLabel\":\"styles_SearchFormButtonLabel__l4u2h\",\"SearchFormInput\":\"styles_SearchFormInput__17ABZ\"};"],"sourceRoot":""}