{"version":3,"sources":["ImageGallery/styles.module.scss","ImageGalleryItem/styles.module.scss","Modal/styles.module.scss","Searchbar/styles.module.scss","Button/styles.module.scss","styles.module.scss","Searchbar/Searchbar.js","SearcbarForm/SearchbarForm.js","Button/Button.js","apiService.js","ImageGallery/ImageGallery.js","ImageGalleryItem/ImageGalleryItem.js","Modal/Modal.js","App.js","index.js","SearcbarForm/styles.module.scss"],"names":["module","exports","Searchbar","children","className","styles","SearchbarForm","onSubmit","useState","inputValue","setInputValue","e","preventDefault","trim","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","currentTarget","value","name","SearchFormInput","autoComplete","autoFocus","placeholder","Button","onClick","ApiService","this","searchQuery","page","a","url","fetch","response","json","result","console","log","newQuery","apiService","ImageGallery","items","setItems","isLoading","setIsLoading","useEffect","resetPage","fetchImg","window","scrollTo","top","document","documentElement","scrollHeight","behavior","query","prevState","hits","color","height","width","loader","length","incrementPage","ImageGalleryItem","item","showModal","getLargeImg","largeImageURL","src","webformatURL","alt","tags","ImageGalleryItemImage","modalRoot","querySelector","Modal","largeImg","onClose","hanleKeyDown","code","addEventListener","removeEventListener","createPortal","Overlay","target","App","setSearchQuery","setShowModal","modalImg","setModalImg","toggleModal","map","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4c242830.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"styles_ImageGallery__pKh35\",\"loader\":\"styles_loader__1dMMc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"styles_ImageGalleryItem__zGrf5\",\"ImageGalleryItemImage\":\"styles_ImageGalleryItemImage__Qpr_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"styles_Overlay__mzuFD\",\"Modal\":\"styles_Modal__3erlH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"styles_Searchbar__30C8F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"styles_Button__1akWp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__fFNuF\"};","import styles from './styles.module.scss'\n\nconst Searchbar = ({children}) => {\n  return (\n    <header className={styles.Searchbar}>{ children }</header>\n  );\n}\n\nexport default Searchbar;","import React, { useState } from 'react';\nimport styles from './styles.module.scss'\n\nconst SearchbarForm = ({onSubmit}) => {\n  const [inputValue, setInputValue] = useState('');\n\n  const handleInputChange = (e) => {\n    setInputValue(e.currentTarget.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (inputValue.trim() === '') {\n      return;\n    }\n\n    onSubmit(inputValue);\n    setInputValue('');\n  }\n\n    return (\n      <form onSubmit={handleSubmit} className={styles.SearchForm}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          onChange={handleInputChange}\n          value={inputValue}\n          name='inputValue'\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus={true}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n  );\n  }\n\nexport default SearchbarForm;","import styles from './styles.module.scss'\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={styles.Button} onClick={onClick} type='button'>Load More</button>\n  );\n}\n\nexport default Button;","export default class ApiService{\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  async fetchImg() {\n    const key = '21803734-353a7aae41d2d9aadf1e5ce14';\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${key}`;\n\n    try {\n      const response = await fetch(url);\n      const result = await response.json();\n\n      return result;\n    } catch (error) {\n      return console.log(error);\n    }\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get pageNum() {\n    return this.page\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n\n}","import React, { useState, useEffect } from 'react';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport Button from '../Button/Button';\nimport ApiService from '../apiService';\nimport styles from './styles.module.scss'\n\nconst apiService = new ApiService();\n\nconst ImageGallery = ({children, searchQuery, items, setItems}) => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (searchQuery === '') return;\n    apiService.resetPage();\n    setItems([]);\n    fetchImg();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery])\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }, [items])\n\n  const fetchImg = async function () {\n    apiService.query = searchQuery;\n    setIsLoading(true);\n    const response = await apiService.fetchImg();\n    setItems(prevState => [...prevState, ...response.hits]);\n    setIsLoading(false);\n  }\n\n  const onButtonClick = () => {\n    apiService.incrementPage()\n    fetchImg();\n  }\n\n  return (\n    <>\n      <ul className={styles.ImageGallery}>\n        {children}\n      </ul>\n\n      {isLoading && (\n        <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={40} width={40} className={styles.loader}/>\n      )}\n\n      {((items.length === 0 || items.length <12 || isLoading) ? '' : <Button onClick={onButtonClick} />)}\n    </>\n  );\n}\n\nexport default ImageGallery;\n","import styles from './styles.module.scss';\n\nconst ImageGalleryItem = ({ item, showModal, getLargeImg }) => {\n  return (\n    <li className={styles.ImageGalleryItem} onClick={() => {\n      showModal()\n      getLargeImg(item.largeImageURL)\n    }}>\n      <img src={item.webformatURL} alt={item.tags} className={styles.ImageGalleryItemImage} />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport styles from './styles.module.scss'\n\nconst modalRoot = document.querySelector('#modal-root')\n\nconst Modal = ({largeImg, onClose}) => {\n  useEffect(() => {\n    const hanleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    }\n\n    window.addEventListener('keydown', hanleKeyDown);\n    \n    return () =>  window.removeEventListener('keydown', hanleKeyDown);\n  },[onClose])\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  }\n\n    return createPortal(\n      (<div className={styles.Overlay} onClick={handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={largeImg} alt={largeImg} />\n        </div>\n      </div>), modalRoot\n    );\n  }\n\nexport default Modal;","import React, { useState } from 'react';\n\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport SearchbarForm from \"./SearcbarForm/SearchbarForm\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport Modal from './Modal/Modal';\n\nimport styles from './styles.module.scss';\n\nconst App = () => {\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [items, setItems] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [modalImg, setModalImg] = useState('');\n\n  const toggleModal = () => {\n    setShowModal(!showModal)\n  }\n\n  return (\n    <div className={styles.App}>\n      <Searchbar>\n        <SearchbarForm onSubmit={setSearchQuery} />\n      </Searchbar>\n\n      <ImageGallery searchQuery={searchQuery} setItems={setItems} items={items}>\n        {items.map(item =>\n          <ImageGalleryItem item={item} key={item.id} showModal={toggleModal} getLargeImg={setModalImg}/>\n        )}\n      </ImageGallery>\n\n      {(showModal && <Modal largeImg={modalImg} onClose={toggleModal} />)}\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"styles_SearchForm__2mZ7H\",\"SearchFormButton\":\"styles_SearchFormButton__ZhKmF\",\"SearchFormButtonLabel\":\"styles_SearchFormButtonLabel__l4u2h\",\"SearchFormInput\":\"styles_SearchFormInput__17ABZ\"};"],"sourceRoot":""}